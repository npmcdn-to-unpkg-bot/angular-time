"use strict";timeApp.factory("loginService",function(t,e,r,n){return{checkStatus:function(){return t.get("http://s.q-man.ru:3000/")},login:function(u){t.post("http://s.q-man.ru:3000/user/login",u).then(function(t){var u=t.data;u?(r.put("token",u.token),r.put("userId",u.user.id),r.put("userLogin",u.user.login),r.put("userEmail",u.user.email),e.path("/main-grid"),n.success("Hello "+u.user.login)):n.alert("Error of login")})},signup:function(u){t.post("http://s.q-man.ru:3000/user",u).then(function(s){var o=s.data;o?t.post("http://s.q-man.ru:3000/user/login",u).then(function(t){var u=t.data;u&&(r.put("token",u.token),r.put("userId",u.user.id),r.put("userLogin",u.user.login),r.put("userEmail",u.user.email),e.path("/main-grid"),n.success("Thanks for your join. Welcome in Worldtime"))}):n.alert("Error of registration")})},logout:function(){var t=r.getAll();angular.forEach(t,function(t,e){r.remove(e)}),e.path("/main-grid"),n.success("Logout complete!")},deleteUser:function(u){var s=t["delete"]("http://s.q-man.ru:3000/user/"+u),o=r.getAll();angular.forEach(o,function(t,e){r.remove(e)}),e.path("/main-grid"),n.success("User was delete")},getUser:function(e){return t.get("http://s.q-man.ru:3000/user/"+e)},editUser:function(e){return t.put("http://s.q-man.ru:3000/user/"+e.id,{login:e.login,email:e.email,password:e.password})}}});